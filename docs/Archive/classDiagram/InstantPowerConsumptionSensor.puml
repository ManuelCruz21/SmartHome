@startuml
!pragma layout smetana

package domain.sensor {
    interface Sensor {
        + getSensorID(): SensorID
        + getValue(Value value): Value
    }
    interface FactorySensor {
        + createSensor(sensorModelID: sensorModelID, repoSensor: RepoSensor): Sensor
    }
    class ImplFactorySensor {
        + createSensor(sensorModelID: sensorModelID, repoSensor: RepoSensor): Sensor
    }

    class InstantPowerConsumptionSensor {
        - _sensorID: SensorID
        - _sensorTypeID: SensorTypeID
        - _sensorModelID: SensorModelID
        - _deviceID: DeviceID
        - _value: InstantPowerConsumptionValue
        # InstantPowerConsumptionSensor(sensorTypeID: SensorTypeID, sensorModelID: SensorModelID, deviceID: DeviceID)
        + getSensorTypeString(): String
        + getSensorID(): SensorID
        + getValue(value : Value): Value
    }
}

package domain.value {
  class InstantPowerConsumptionValue {
    - _value : int
    + InstantPowerConsumptionValue(value : int)
    + toString() : String
  }
}

package valueObject {
    class SensorTypeID {
        - _description: String
        + SensorTypeID(strDescription : String)
        + getTypeID() : String
    }

    class SensorModelID {
        - _description: String
        + SensorModelID(strDescription : String)
        + getModelID() : String
    }

    class SensorID {
        - _id: String
        + SensorID(id : String)
        + getID() : String
    }

    class DeviceID {
        - _id: String
        + DeviceID(id : String)
        + getID() : String
    }
}

package ddd {

  interface DomainEntity {
  }

  interface DomainID {
  }

  interface AggregateRoot {
  }
}

ImplFactorySensor ..|> FactorySensor
ImplFactorySensor "1" ..> "1" InstantPowerConsumptionSensor : creates

InstantPowerConsumptionSensor ..|> Sensor
InstantPowerConsumptionSensor "1" --> "1" InstantPowerConsumptionValue : has
InstantPowerConsumptionSensor "1" -->  "1" SensorTypeID : has
InstantPowerConsumptionSensor "1" -->  "1" SensorModelID : has
InstantPowerConsumptionSensor "1" -->  "1" SensorID : has
InstantPowerConsumptionSensor "1" -->  "1" DeviceID : has

DomainEntity --|> DomainID
AggregateRoot --|> DomainEntity
AggregateRoot --|> DomainID

Sensor ..|> ddd.AggregateRoot

SensorTypeID ..|> ddd.DomainID
SensorModelID ..|> ddd.DomainID
SensorID ..|> ddd.DomainID

@enduml
