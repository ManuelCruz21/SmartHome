@startuml
'https://plantuml.com/sequence-diagram
!pragma layout smetana
autonumber

participant " " as HTTP

box "Server"
    participant "Controller" as Controller<<component>>
    participant Service as "Service"<<component>>
    participant Repository as "Repository"<<component>>
    participant Domain as "Domain"<<component>>

    end box

    participant DataBase as " "


HTTP o-> Controller: POST /actuators set blind roller
activate Controller

Controller -> Service: getActuatorByID (actuatorID)
activate Service

Service -> Repository: getActuatorByID (actuatorID)
activate Repository

Repository ->o DataBase: findByID()

DataBase o--> Repository: actuatorBlindRoller

Repository --> Service: actuatorBlindRoller
deactivate Repository

Service --> Controller: actuatorBlindRoller
deactivate Service

Controller -> Service: getDeviceReadings (deviceID, sensorTypeID)
activate Service

Service -> Repository: getDeviceReadings (deviceID, sensorTypeID)
activate Repository

Repository ->o DataBase: findAll()

DataBase o--> Repository: deviceReadingsList

Repository --> Service: deviceReadingsList
deactivate Repository

Service --> Controller: deviceReadingsList
deactivate Service

Controller -> Service: setValue (actuatorBlindRoller, blindRollerValue)
activate Service

Service -> Domain: setValue(blindRollerValue)
activate Domain

Domain --> Service: blindRollerValue
deactivate Domain

Service --> Controller: blindRollerValue
deactivate Service


Controller -->o HTTP: actuatorDTO
deactivate Controller


@enduml