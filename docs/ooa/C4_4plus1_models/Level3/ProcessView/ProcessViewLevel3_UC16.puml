@startuml
'https://plantuml.com/sequence-diagram
!pragma layout smetana
autonumber

participant " " as HTTP

box "Server"
    participant ":Controller" as Controller
    participant Service as ":Service"
    participant Repository as ":Repository"
    participant BlindRollerActuator as ":BlindRollerActuator"

    end box

    participant DataBase as " "


HTTP o-> Controller: setBlindRoller (actuatorValueEntryDTO)
activate Controller

Controller -> Service: getActuatorByID (actuatorID)
activate Service

Service -> Repository: getActuatorByID (actuatorID)
activate Repository

Repository ->o DataBase: findByID()

DataBase o--> Repository: actuatorBlindRoller

Repository --> Service: actuatorBlindRoller
deactivate Repository

Service --> Controller: actuatorBlindRoller
deactivate Service

Controller -> Service: getDeviceReadings (deviceID, sensorTypeID)
activate Service

Service -> Repository: getDeviceReadings (deviceID, sensorTypeID)
activate Repository

Repository ->o DataBase: findAll()

DataBase o--> Repository: deviceReadingsList

Repository --> Service: deviceReadingsList
deactivate Repository

Service --> Controller: deviceReadingsList
deactivate Service

Controller -> Service: setValue (actuatorBlindRoller, blindRollerValue)
activate Service

Service -> BlindRollerActuator: setValue(blindRollerValue)
activate BlindRollerActuator

BlindRollerActuator --> Service: blindRollerValue
deactivate BlindRollerActuator

Service --> Controller: blindRollerValue
deactivate Service


Controller -->o HTTP: actuatorDTO, status 201
deactivate Controller


@enduml