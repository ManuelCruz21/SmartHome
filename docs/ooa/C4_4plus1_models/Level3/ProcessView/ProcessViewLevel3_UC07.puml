@startuml
'https://plantuml.com/sequence-diagram
!pragma layout smetana

autonumber

participant " " as HTTP

box "Server"
    participant "Controller" as CTRL
    participant "Service" as SV
    participant "Domain" as DM
    participant "Repository" as RP

end box
participant "DataBase" as BD


HTTP -> CTRL : POST /sensor
activate CTRL

CTRL -> DM : DeviceID(strDeviceID)
activate DM

DM --> CTRL : deviceID
deactivate DM

CTRL -> DM : ModelPath(strModelPath)
activate DM

DM --> CTRL : modelPath
deactivate DM

CTRL -> DM : SensorTypeID(strSensorTypeID)
activate DM

DM --> CTRL : sensorTypeID
deactivate DM

CTRL -> DM : SensorName(strSensorName)
activate DM

DM --> CTRL : sensorName
deactivate DM

CTRL -> SV : addSensorToDevice(deviceID, modelPath, sensorTypeID, sensorName)
activate SV

SV -> RP : save(sensor)
activate RP

RP -> BD : save(sensorDataModel)

RP --> SV : sensor
deactivate RP

SV --> CTRL : sensorDTO
deactivate SV

CTRL --> HTTP : sensorDTO
deactivate CTRL


@enduml