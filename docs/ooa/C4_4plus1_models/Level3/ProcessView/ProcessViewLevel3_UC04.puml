@startuml
'https://plantuml.com/sequence-diagram
!pragma layout smetana

autonumber

participant " " as HTTP

box "Server"
    participant "Controller" as CTRL
    participant "Service" as SV
    participant "Repository" as REPO
    participant "Domain" as DOM
end box

participant "DataBase" as BD


HTTP -> CTRL : POST /sensor-types
activate CTRL

CTRL -> DOM : TypeDescription(strDescription)
activate DOM
DOM --> CTRL : typeDescription
deactivate DOM

CTRL -> DOM : UnitID(strUnitID)
activate DOM
DOM --> CTRL : unitID
deactivate DOM

CTRL -> SV : createSensorType(typeDescription, unitID)
activate SV

SV -> REPO : save(typeDescription, unitID)
activate REPO
REPO -> BD : save
activate BD
deactivate BD
REPO --> SV : sensorType
deactivate REPO

SV --> CTRL : sensorType
deactivate SV


CTRL --> HTTP : sensorTypeDTO
deactivate CTRL



@enduml