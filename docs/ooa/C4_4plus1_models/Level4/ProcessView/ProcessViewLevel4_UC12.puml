@startuml
'https://plantuml.com/sequence-diagram
!pragma layout smetana

autonumber

actor "User" as User
participant "RestClient" as RC

box "SmartHome"
    participant "Controller" as CTRL
    participant "Service" as SV
    participant "Repository" as REPO
    participant "Domain" as DOM
    participant "DataBase" as BD
end box


User -> RC : I want to get all devices by room and temperature functionality
activate RC

RC -> CTRL : getDevicesByRoomAndTemperatureFunctionality(roomID)
activate CTRL

CTRL -> DOM : RoomID(strRoomID)
activate DOM

DOM -> CTRL : roomID
deactivate DOM

CTRL -> SV: getDevicesByRoomID(roomID)
activate SV

SV -> REPO : findByRoomID(roomID)
activate REPO

REPO -> BD : find
activate BD


BD --> REPO : deviceDataModelList
deactivate BD

REPO --> SV : deviceList
deactivate REPO

SV --> CTRL : deviceList
deactivate REPO
deactivate SV

CTRL -> DOM : deviceTypeID(strDeviceType)
activate DOM

DOM -> CTRL : deviceTypeID
deactivate DOM

CTRL -> SV : getDevicesByDeviceTypeID(deviceTypeID)
activate SV

SV -> REPO : findByDeviceTypeID(deviceTypeID)
activate REPO

REPO -> BD : find
activate BD

BD --> REPO : deviceDataModelList
deactivate BD

REPO --> SV : deviceList
deactivate REPO

SV --> CTRL : deviceList
deactivate SV

CTRL --> RC : deviceDTOList
deactivate CTRL

RC --> User :  deviceDTOList
deactivate RC


@enduml