@startuml
'https://plantuml.com/class-diagram

!pragma layout smetana
!pragma scale 100 width
!pragma useVerticalIfPossible

class DeactivateDeviceController {
    -deviceService: DeviceService
    +requestAllDevices(): List<DeviceDTO>
    +requestDeactivateDevice(deviceDTO: DeviceDTO): DeviceDTO
}

class DeviceService {
    -deviceRepository: DeviceRepository
    -deviceAssembler: DeviceAssembler
    -deviceFactory: DeviceFactory
    -roomRepository: RoomRepository
    +DeviceService(deviceRepository: DeviceRepository, deviceAssembler: DeviceAssembler, deviceFactory: DeviceFactory, roomRepository: RoomRepository)
    +getAllDevices(): List<DeviceDTO>
    +deactivateDevice(deviceID: String): DeviceDTO
}

class DeviceRepository {
    -DATA: Map<deviceID, Device>
    +findAll(): List<Device>
    +findDeviceById(deviceID: String): Device
    +save(device: Device): Device
}

class DeviceAssembler {
    +domainToDTO(deviceList: DeviceList): List<DeviceDTO>
    +domainToDTO(device: Device): DeviceDTO
    +dtoToDomain(deviceDTO: DeviceDTO): Device
}


class DeviceDTO {
    +deviceID: String
    + deviceName: String
    +status: String
    +DeviceDTO(device: Device)
}

class Device<<entity>><<root>> {
    -deviceID: DeviceID
    -roomID: RoomID
    -deviceType: DeviceType
    -deviceName: DeviceName
    -status: DeviceStatus
    +Device(roomID: RoomID, deviceType: DeviceType, deviceName: DeviceName, status: DeviceStatus)
    +deactivate(): void
}

DeactivateDeviceController "1" ..> "1" DeviceService: uses >
DeviceService "1" ..> "1" DeviceRepository: uses >
DeviceService "1" ..> "1" DeviceAssembler: uses >
DeviceAssembler "1" ..> "1..*" DeviceDTO: creates >
DeviceService "1" ..> "1" Device: uses
@enduml
