@startuml
participant "  " as User
participant ":AddSensorTypeController" as Controller
participant "Unit" as Unit
participant ":Catalogue" as Catalogue
participant ":SensorTypeFactory" as SensorTypeFactory
participant "sensortype:SensorType" as SensorType
participant "SensorTypeAssembler" as SensorTypeAssembler
participant "sensorTypeDTO:SensorTypeDTO" as SensorTypeDTO

User o-> Controller: 1: createSensorType()
activate Controller
Controller -> Unit: 1.1: getAllSupportedUnits()
activate Unit
Unit --> Controller: 1.2: units
deactivate Unit
Controller --> User: 1.3: units
User -> Controller: 2: createSensorType(String name, String units)
Controller -> Catalogue: 2.1: createSensorType(String name, String units)
activate Catalogue
activate SensorTypeFactory
Catalogue -> SensorTypeFactory: 2.1.1: addSensorType(String name, String units)
create SensorType
SensorTypeFactory -> SensorType: 2.1.2: createSensorType(String name, String units)
activate SensorType
SensorType --> SensorTypeFactory: 2.1.3: sensorType
deactivate SensorType
SensorTypeFactory --> Catalogue: 2.1.4: sensorType
deactivate SensorTypeFactory
Catalogue -> Catalogue: 2.1.5: addSensorTypeToCatalog(sensorType)
Catalogue --> Controller: 2.1.6: sensorType
deactivate Catalogue
Controller -> SensorTypeAssembler: 2.2: domainToDTO(SensorType sensorType)
activate SensorTypeAssembler
create SensorTypeDTO
SensorTypeAssembler -> SensorTypeDTO: 2.2.1: domainToDTO(sensorType)
activate SensorTypeDTO
SensorTypeDTO --> SensorTypeAssembler: 2.2.2: sensorTypeDTO
deactivate SensorTypeDTO
SensorTypeAssembler --> Controller: 2.2.3: sensorTypeDTO
deactivate SensorTypeAssembler
Controller --> User: 2.2.4: sensorTypeDTO

@enduml